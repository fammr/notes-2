<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>11.String,StringBuffer,StringBuilder</title>
      <style>.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); overflow: auto; }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(124, 135, 156); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(82, 139, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(124, 135, 156); border-color: rgb(75, 83, 98); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(75, 83, 98); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(75, 83, 98); }
.markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(58, 63, 75); }
.markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(49, 54, 63); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(75, 83, 98) rgb(75, 83, 98) rgb(62, 68, 81); border-image: initial; background-color: rgb(58, 63, 75); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255); overflow: scroll; }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { background-color: rgb(255, 255, 255); border-top: 1px solid rgb(204, 204, 204); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; background-color: rgba(0, 0, 0, 0.04); border-radius: 3px; }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; background: transparent; border: 0px; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border-radius: 3px; }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0px; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; background-color: rgb(252, 252, 252); border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-image: initial; border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover .horizontal-scrollbar { visibility: visible; }
.markdown-preview .task-list-item-checkbox { position: absolute; margin: 0.25em 0px 0px -1.4em; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}
.line-number.bracket-matcher.bracket-matcher {
  color: #abb2bf;
  background-color: #3a3f4b;
}

.spell-check-misspelling .region {
  border-bottom: 2px dotted rgba(255, 51, 51, 0.75);
}
.spell-check-corrections {
  width: 25em !important;
}

pre.editor-colors {
  background-color: #282c34;
  color: #abb2bf;
}
pre.editor-colors .line.cursor-line {
  background-color: rgba(153, 187, 255, 0.04);
}
pre.editor-colors .invisible {
  color: #abb2bf;
}
pre.editor-colors .cursor {
  border-left: 2px solid #528bff;
}
pre.editor-colors .selection .region {
  background-color: #3e4451;
}
pre.editor-colors .bracket-matcher .region {
  border-bottom: 1px solid #528bff;
  box-sizing: border-box;
}
pre.editor-colors .invisible-character {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .indent-guide {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .wrap-guide {
  background-color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .find-result .region.region.region,
pre.editor-colors .current-result .region.region.region {
  border-radius: 2px;
  background-color: rgba(82, 139, 255, 0.24);
  transition: border-color 0.4s;
}
pre.editor-colors .find-result .region.region.region {
  border: 2px solid transparent;
}
pre.editor-colors .current-result .region.region.region {
  border: 2px solid #528bff;
  transition-duration: .1s;
}
pre.editor-colors .gutter .line-number {
  color: #636d83;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line {
  color: #abb2bf;
  background-color: #3a3f4b;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right {
  color: #abb2bf;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before {
  bottom: -3px;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed::after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(224, 82, 82, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
pre.editor-colors .fold-marker:after {
  color: #abb2bf;
}
.syntax--comment {
  color: #5c6370;
  font-style: italic;
}
.syntax--comment .syntax--markup.syntax--link {
  color: #5c6370;
}
.syntax--entity.syntax--name.syntax--type {
  color: #e5c07b;
}
.syntax--entity.syntax--other.syntax--inherited-class {
  color: #98c379;
}
.syntax--keyword {
  color: #c678dd;
}
.syntax--keyword.syntax--control {
  color: #c678dd;
}
.syntax--keyword.syntax--operator {
  color: #abb2bf;
}
.syntax--keyword.syntax--other.syntax--special-method {
  color: #61afef;
}
.syntax--keyword.syntax--other.syntax--unit {
  color: #d19a66;
}
.syntax--storage {
  color: #c678dd;
}
.syntax--storage.syntax--type.syntax--annotation,
.syntax--storage.syntax--type.syntax--primitive {
  color: #c678dd;
}
.syntax--storage.syntax--modifier.syntax--package,
.syntax--storage.syntax--modifier.syntax--import {
  color: #abb2bf;
}
.syntax--constant {
  color: #d19a66;
}
.syntax--constant.syntax--variable {
  color: #d19a66;
}
.syntax--constant.syntax--character.syntax--escape {
  color: #56b6c2;
}
.syntax--constant.syntax--numeric {
  color: #d19a66;
}
.syntax--constant.syntax--other.syntax--color {
  color: #56b6c2;
}
.syntax--constant.syntax--other.syntax--symbol {
  color: #56b6c2;
}
.syntax--variable {
  color: #e06c75;
}
.syntax--variable.syntax--interpolation {
  color: #be5046;
}
.syntax--variable.syntax--parameter {
  color: #abb2bf;
}
.syntax--string {
  color: #98c379;
}
.syntax--string.syntax--regexp {
  color: #56b6c2;
}
.syntax--string.syntax--regexp .syntax--source.syntax--ruby.syntax--embedded {
  color: #e5c07b;
}
.syntax--string.syntax--other.syntax--link {
  color: #e06c75;
}
.syntax--punctuation.syntax--definition.syntax--comment {
  color: #5c6370;
}
.syntax--punctuation.syntax--definition.syntax--method-parameters,
.syntax--punctuation.syntax--definition.syntax--function-parameters,
.syntax--punctuation.syntax--definition.syntax--parameters,
.syntax--punctuation.syntax--definition.syntax--separator,
.syntax--punctuation.syntax--definition.syntax--seperator,
.syntax--punctuation.syntax--definition.syntax--array {
  color: #abb2bf;
}
.syntax--punctuation.syntax--definition.syntax--heading,
.syntax--punctuation.syntax--definition.syntax--identity {
  color: #61afef;
}
.syntax--punctuation.syntax--definition.syntax--bold {
  color: #e5c07b;
  font-weight: bold;
}
.syntax--punctuation.syntax--definition.syntax--italic {
  color: #c678dd;
  font-style: italic;
}
.syntax--punctuation.syntax--section.syntax--embedded {
  color: #be5046;
}
.syntax--punctuation.syntax--section.syntax--method,
.syntax--punctuation.syntax--section.syntax--class,
.syntax--punctuation.syntax--section.syntax--inner-class {
  color: #abb2bf;
}
.syntax--support.syntax--class {
  color: #e5c07b;
}
.syntax--support.syntax--type {
  color: #56b6c2;
}
.syntax--support.syntax--function {
  color: #56b6c2;
}
.syntax--support.syntax--function.syntax--any-method {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--function {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--class,
.syntax--entity.syntax--name.syntax--type.syntax--class {
  color: #e5c07b;
}
.syntax--entity.syntax--name.syntax--section {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--tag {
  color: #e06c75;
}
.syntax--entity.syntax--other.syntax--attribute-name {
  color: #d19a66;
}
.syntax--entity.syntax--other.syntax--attribute-name.syntax--id {
  color: #61afef;
}
.syntax--meta.syntax--class {
  color: #e5c07b;
}
.syntax--meta.syntax--class.syntax--body {
  color: #abb2bf;
}
.syntax--meta.syntax--method-call,
.syntax--meta.syntax--method {
  color: #abb2bf;
}
.syntax--meta.syntax--definition.syntax--variable {
  color: #e06c75;
}
.syntax--meta.syntax--link {
  color: #d19a66;
}
.syntax--meta.syntax--require {
  color: #61afef;
}
.syntax--meta.syntax--selector {
  color: #c678dd;
}
.syntax--meta.syntax--separator {
  color: #abb2bf;
}
.syntax--meta.syntax--tag {
  color: #abb2bf;
}
.syntax--underline {
  text-decoration: underline;
}
.syntax--none {
  color: #abb2bf;
}
.syntax--invalid.syntax--deprecated {
  color: #523d14 !important;
  background-color: #e0c285 !important;
}
.syntax--invalid.syntax--illegal {
  color: white !important;
  background-color: #e05252 !important;
}
.syntax--markup.syntax--bold {
  color: #d19a66;
  font-weight: bold;
}
.syntax--markup.syntax--changed {
  color: #c678dd;
}
.syntax--markup.syntax--deleted {
  color: #e06c75;
}
.syntax--markup.syntax--italic {
  color: #c678dd;
  font-style: italic;
}
.syntax--markup.syntax--heading {
  color: #e06c75;
}
.syntax--markup.syntax--heading .syntax--punctuation.syntax--definition.syntax--heading {
  color: #61afef;
}
.syntax--markup.syntax--link {
  color: #56b6c2;
}
.syntax--markup.syntax--inserted {
  color: #98c379;
}
.syntax--markup.syntax--quote {
  color: #d19a66;
}
.syntax--markup.syntax--raw {
  color: #98c379;
}
.syntax--source.syntax--c .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--cpp .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--cs .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--css .syntax--property-name,
.syntax--source.syntax--css .syntax--property-value {
  color: #828997;
}
.syntax--source.syntax--css .syntax--property-name.syntax--support,
.syntax--source.syntax--css .syntax--property-value.syntax--support {
  color: #abb2bf;
}
.syntax--source.syntax--elixir .syntax--source.syntax--embedded.syntax--source {
  color: #abb2bf;
}
.syntax--source.syntax--elixir .syntax--constant.syntax--language,
.syntax--source.syntax--elixir .syntax--constant.syntax--numeric,
.syntax--source.syntax--elixir .syntax--constant.syntax--definition {
  color: #61afef;
}
.syntax--source.syntax--elixir .syntax--variable.syntax--definition,
.syntax--source.syntax--elixir .syntax--variable.syntax--anonymous {
  color: #c678dd;
}
.syntax--source.syntax--elixir .syntax--parameter.syntax--variable.syntax--function {
  color: #d19a66;
  font-style: italic;
}
.syntax--source.syntax--elixir .syntax--quoted {
  color: #98c379;
}
.syntax--source.syntax--elixir .syntax--keyword.syntax--special-method,
.syntax--source.syntax--elixir .syntax--embedded.syntax--section,
.syntax--source.syntax--elixir .syntax--embedded.syntax--source.syntax--empty {
  color: #e06c75;
}
.syntax--source.syntax--elixir .syntax--readwrite.syntax--module .syntax--punctuation {
  color: #e06c75;
}
.syntax--source.syntax--elixir .syntax--regexp.syntax--section,
.syntax--source.syntax--elixir .syntax--regexp.syntax--string {
  color: #be5046;
}
.syntax--source.syntax--elixir .syntax--separator,
.syntax--source.syntax--elixir .syntax--keyword.syntax--operator {
  color: #d19a66;
}
.syntax--source.syntax--elixir .syntax--variable.syntax--constant {
  color: #e5c07b;
}
.syntax--source.syntax--elixir .syntax--array,
.syntax--source.syntax--elixir .syntax--scope,
.syntax--source.syntax--elixir .syntax--section {
  color: #828997;
}
.syntax--source.syntax--gfm .syntax--markup {
  -webkit-font-smoothing: auto;
}
.syntax--source.syntax--gfm .syntax--link .syntax--entity {
  color: #61afef;
}
.syntax--source.syntax--go .syntax--storage.syntax--type.syntax--string {
  color: #c678dd;
}
.syntax--source.syntax--ini .syntax--keyword.syntax--other.syntax--definition.syntax--ini {
  color: #e06c75;
}
.syntax--source.syntax--java .syntax--storage.syntax--modifier.syntax--import {
  color: #e5c07b;
}
.syntax--source.syntax--java .syntax--storage.syntax--type {
  color: #e5c07b;
}
.syntax--source.syntax--java .syntax--keyword.syntax--operator.syntax--instanceof {
  color: #c678dd;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair {
  color: #e06c75;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair > .syntax--punctuation {
  color: #abb2bf;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator {
  color: #56b6c2;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--delete,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--in,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--of,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--instanceof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--new,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--typeof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--void {
  color: #c678dd;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json {
  color: #e06c75;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation.syntax--string {
  color: #e06c75;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation {
  color: #98c379;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--constant.syntax--language.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--constant.syntax--language.syntax--json {
  color: #56b6c2;
}
.syntax--source.syntax--ruby .syntax--constant.syntax--other.syntax--symbol > .syntax--punctuation {
  color: inherit;
}
.syntax--source.syntax--php .syntax--class.syntax--bracket {
  color: #abb2bf;
}
.syntax--source.syntax--python .syntax--keyword.syntax--operator.syntax--logical.syntax--python {
  color: #c678dd;
}
.syntax--source.syntax--python .syntax--variable.syntax--parameter {
  color: #d19a66;
}
</style>
  </head>
  <body class='markdown-preview' data-use-github-style><h1 id="-string-stringbuffer-stringbuilder">一文彻底搞懂String,StringBuffer,StringBuilder</h1>
<blockquote>
<p>第一次写此类型文章,由于本人才疏学浅,有很多地方可能存在误解和不足,还望大家在评论区批评指正.</p>
</blockquote>
<h2 id="-">一.引言</h2>
<p>  学Java很久了,一直处于使用API+查API的状态,久而久之总是觉得很虚,作为一名合格的程序员这是不允许的,不能一直当API Player,我们要去了解分析底层实现,下次在使用时才能知己知彼.知道在什么时候该用什么方法和什么类比较合适.</p>
<p>  在之前,我知道的关于String,StringBuffer,StringBuilder的知识点大概如下</p>
<ol>
<li>String是不可变的（修改String时，不会在原有的内存地址修改，而是重新指向一个新对象），String用final修饰，不可继承，String本质上是个final的char[]数组，所以char[]数组的内存地址不会被修改，而且String 也没有对外暴露修改char[]数组的方法.不可变性可以保证线程安全以及字符串串常量池的实现.频繁的增删操作是不建议使用String的.</li>
<li>StringBuffer是线程安全的,多线程建议使用这个.</li>
<li>StringBuilder是非线程安全的,单线程使用这个更快.</li>
</ol>
<p>对于上面这些结论,我们通过源码分析去验证</p>
<h2 id="-string-">二.String源码分析</h2>
<p>看下继承结构源码:</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>final</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class syntax--identifier syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--java"><span>String</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--class syntax--implemented syntax--interfaces syntax--java"><span class="syntax--storage syntax--modifier syntax--implements syntax--java"><span>implements</span></span><span>&nbsp;</span><span>java.io.</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>Serializable</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>Comparable</span></span><span class="syntax--punctuation syntax--bracket syntax--angle syntax--java"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--generic syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--bracket syntax--angle syntax--java"><span>&gt;</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>CharSequence</span></span><span>&nbsp;</span></span><span class="syntax--punctuation syntax--section syntax--class syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;/**</span></span><span>&nbsp;The&nbsp;value&nbsp;is&nbsp;used&nbsp;for&nbsp;character&nbsp;storage.&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>*/</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>private</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>final</span></span><span>&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span><span>.</span><span>.</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--punctuation syntax--section syntax--class syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></span></div></pre>
<p>可以看到String是final的,不允许继承.里面用来存储value的是一个final数组,也是不允许修改的.String有很多方法,下面就String类常用方法进行分析.</p>
<h3 id="1-">1.构造方法</h3>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;original</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>original</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>hash</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>original</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>hash</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;value</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Arrays</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>copyOf</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span><span>.</span><span>.</span></span></span></div></pre>
<p>可以看到默认的构造器是构建的空字符串,其实所有的构造器就是给value数组赋初值.</p>
<h3 id="2-">2.字符串长度</h3>
<p>返回该字符串的长度,这太简单了,就是返回value数组的长度.</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<h3 id="3-">3.字符串某一位置字符</h3>
<p>返回字符串中指定位置的字符；</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>charAt</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;index</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>1.&nbsp;首先判断是否越界</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span><span>(</span></span><span>index&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>index&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>index</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>2.&nbsp;返回相应位置的值</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;value</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>index</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<h3 id="4-">4.提取子串</h3>
<p>用String类的substring方法可以提取字符串中的子串，简单分析一下substring(int beginIndex, int endIndex)吧,该方法从beginIndex位置起，从当前字符串中取出到endIndex-1位置的字符作为一个 <strong>新的字符串(重新new了一个String)</strong> 返回.</p>
<p>方法内部是将数组进行部分复制完成的,所以该方法不会对原有的数组进行更改.</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>substring</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;beginIndex</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;endIndex</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>1.验证入参是否越界</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>beginIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>beginIndex</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>endIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>endIndex</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>2.&nbsp;记录切割长度</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>subLen</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;endIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;beginIndex</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>3.&nbsp;入参合法性</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>subLen&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>subLen</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>4.&nbsp;如果开始切割处是0,结束切割处是value数组长度,那么相当于没有切割嘛,就直接返回原字符串;如果是其他情况:则重新新建一个String对象</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span><span>(</span></span><span>beginIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>&amp;&amp;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>endIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--ternary syntax--java"><span>?</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--ternary syntax--java"><span>:</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;beginIndex</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;subLen</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>/**</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span>*&nbsp;通过一个char数组复制部分内容生成一个新数组,复制区间:从offset到offset+count处.</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>*/</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;value</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;offset</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>offset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>offset</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>count</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>count==0</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>offset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;Note:&nbsp;offset&nbsp;or&nbsp;count&nbsp;might&nbsp;be&nbsp;near&nbsp;-1&gt;&gt;&gt;1.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>offset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>offset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>复制一部分</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Arrays</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>copyOfRange</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;offset</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;offset</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>count</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div></pre>
<h3 id="5-">5.字符串比较</h3>
<ul>
<li><p><strong>compareTo(String anotherString)</strong></p>
<p>该方法是对字符串内容按字典顺序进行大小比较，通过返回的整数值指明当前字符串与参数字符串的大小关系.若当前对象比参数大则返回正整数，反之返回负整数，相等返回0.</p>
<p>主要是挨个字符进行比较</p>
</li>
</ul>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>compareTo</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;anotherString</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>1.&nbsp;记录长度</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>len1</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>len2</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>anotherString</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--object syntax--property syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>2.&nbsp;最短长度</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>lim</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Math</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>min</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>len1</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;len2</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>v1</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;value</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>v2</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>anotherString</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>k</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>3.&nbsp;循环逐个字符进行比较,如果不相等则返回字符之差&nbsp;&nbsp;</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>这里只需要循环lim次就行了</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>k&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;lim</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>c1</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;v1</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>k</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>c2</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;v2</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>k</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>!=</span></span><span>&nbsp;c2</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>可能是正数或负数</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;c1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;c2</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>4.&nbsp;最后返回长度之差&nbsp;&nbsp;&nbsp;&nbsp;这里可能是0,即相等</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;len1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;len2</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<ul>
<li><strong>compareToIgnore(String anotherString)</strong></li>
</ul>
<p>与compareTo()方法相似，但忽略大小写.</p>
<p>实现:从下面的源码可以看出,最终实现是通过一个内部类CaseInsensitiveComparator,它实现了Comparator和Serializable接口,并实现了compare()方法,里面的实现方法和上面的compareTo()方法差不多,只不过忽略大小写.</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>compareToIgnoreCase</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;str</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>CASE_INSENSITIVE_ORDER</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>compare</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;str</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>static</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>final</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>Comparator</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>String</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>CASE_INSENSITIVE_ORDER</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>CaseInsensitiveComparator</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>private</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>static</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class syntax--identifier syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--java"><span>CaseInsensitiveComparator</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--class syntax--implemented syntax--interfaces syntax--java"><span class="syntax--storage syntax--modifier syntax--implements syntax--java"><span>implements</span></span><span>&nbsp;</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>Comparator</span></span><span class="syntax--punctuation syntax--bracket syntax--angle syntax--java"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--generic syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--bracket syntax--angle syntax--java"><span>&gt;</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;java.io.</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>Serializable</span></span><span>&nbsp;</span></span><span class="syntax--punctuation syntax--section syntax--class syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;use&nbsp;serialVersionUID&nbsp;from&nbsp;JDK&nbsp;1.2.2&nbsp;for&nbsp;interoperability</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>private</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>static</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>final</span></span><span>&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>long</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>serialVersionUID</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>8575799808933029326L</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--method syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--meta syntax--method syntax--return-type syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--method syntax--identifier syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>compare</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;</span><span class="syntax--variable syntax--parameter syntax--java"><span>s1</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;</span><span class="syntax--variable syntax--parameter syntax--java"><span>s2</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--method syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>n1</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>s1</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>n2</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>s2</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>min</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Math</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>min</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>n1</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;n2</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;min</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>c1</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>s1</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>charAt</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>i</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>c2</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>s2</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>charAt</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>i</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>!=</span></span><span>&nbsp;c2</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Character</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>toUpperCase</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c1</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Character</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>toUpperCase</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c2</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>!=</span></span><span>&nbsp;c2</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Character</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>toLowerCase</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c1</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Character</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>toLowerCase</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c2</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>!=</span></span><span>&nbsp;c2</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;No&nbsp;overflow&nbsp;because&nbsp;of&nbsp;numeric&nbsp;promotion</span><span>&nbsp;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;c1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;c2</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;n1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;n2</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--meta syntax--method syntax--java"><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--punctuation syntax--section syntax--method syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;/**</span></span><span>&nbsp;Replaces&nbsp;the&nbsp;de-serialized&nbsp;object.&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>*/</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--class syntax--body syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--method syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>private</span></span><span>&nbsp;</span><span class="syntax--meta syntax--method syntax--return-type syntax--java"><span class="syntax--storage syntax--type syntax--java"><span>Object</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--method syntax--identifier syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>readResolve</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--method syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span><span class="syntax--meta syntax--method syntax--body syntax--java"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;CASE_INSENSITIVE_ORDER</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;</span></span><span class="syntax--punctuation syntax--section syntax--method syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--punctuation syntax--section syntax--class syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></span></div></pre>
<ul>
<li><strong>equals(Object anotherObject)</strong></li>
</ul>
<p>比较当前字符串和参数字符串，在两个字符串相等的时候返回true，否则返回false.</p>
<p>大体实现思路:</p>
<ol>
<li>先判断引用是否相同</li>
<li>再判断该Object对象是否是String的实例</li>
<li>再判断两个字符串的长度是否一致</li>
<li>最后挨个字符进行比较</li>
</ol>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>boolean</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>equals</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--java"><span>Object</span></span><span>&nbsp;anObject</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>1.&nbsp;引用相同&nbsp;&nbsp;</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;anObject</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>true</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>2.&nbsp;是String的实例?</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>anObject&nbsp;</span><span class="syntax--keyword syntax--operator syntax--instanceof syntax--java"><span>instanceof</span></span><span>&nbsp;String</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>anotherString</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>String</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>anObject</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>n</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>3.&nbsp;长度</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>anotherString</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--object syntax--property syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>v1</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;value</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>v2</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>anotherString</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>4.&nbsp;挨个字符进行比较</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>n</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>--</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>!=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>v1</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>i</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>!=</span></span><span>&nbsp;v2</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>i</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>false</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>true</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>false</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<ul>
<li><strong>equalsIgnoreCase(String anotherString)</strong></li>
</ul>
<p>与equals方法相似，但忽略大小写.但是这里要稍微复杂一点,因为牵连到另一个方法regionMatches(),没关系,下面跟着我一起慢慢分析.</p>
<p>在equalsIgnoreCase()方法里面首先是校验引用值是否一致,再判断否为空,紧接着判断长度是否一致,最后通过regionMatches()方法测试两个字符串每个字符是否相等(忽略大小写).</p>
<p>在regionMatches()方法中其实还是比较简单的,就是逐字符进行比较,当需要进行忽略大小写时,如果遇到不相等的2字符,先统一转成大写进行比较,如果相同则继续比较下一个,不相同则转成小写再判断是否一致.</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>boolean</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>equalsIgnoreCase</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;anotherString</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;anotherString</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--ternary syntax--java"><span>?</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>true</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--ternary syntax--java"><span>:</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>anotherString&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>!=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>null</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>&amp;&amp;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>anotherString</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--object syntax--property syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>&amp;&amp;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>regionMatches</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--constant syntax--language syntax--java"><span>true</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;anotherString</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>boolean</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>regionMatches</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>boolean</span></span><span>&nbsp;ignoreCase</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;toffset</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;other</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;ooffset</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>ta</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;value</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>to</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;toffset</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>pa</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>other</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>po</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;ooffset</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;Note:&nbsp;toffset,&nbsp;ooffset,&nbsp;or&nbsp;len&nbsp;might&nbsp;be&nbsp;near&nbsp;-1&gt;&gt;&gt;1.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span><span>(</span></span><span>ooffset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>toffset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>toffset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>long</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>ooffset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>long</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>other</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--object syntax--property syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>false</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>len</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>--</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>循环校验每个字符是否相等,相等则继续校验下一个字符</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>c1</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;ta</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>to</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>c2</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;pa</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>po</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;c2</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>continue</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>如果遇到不相等的2字符,再判断是否忽略大小写.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>先统一转成大写进行比较,如果相同则继续比较下一个,不相同则转成小写再判断是否一致</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>ignoreCase</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;If&nbsp;characters&nbsp;don't&nbsp;match&nbsp;but&nbsp;case&nbsp;may&nbsp;be&nbsp;ignored,</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;try&nbsp;converting&nbsp;both&nbsp;characters&nbsp;to&nbsp;uppercase.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;If&nbsp;the&nbsp;results&nbsp;match,&nbsp;then&nbsp;the&nbsp;comparison&nbsp;scan&nbsp;should</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;continue.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>u1</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Character</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>toUpperCase</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c1</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>u2</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Character</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>toUpperCase</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>c2</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>u1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;u2</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>continue</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;Unfortunately,&nbsp;conversion&nbsp;to&nbsp;uppercase&nbsp;does&nbsp;not&nbsp;work&nbsp;properly</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;for&nbsp;the&nbsp;Georgian&nbsp;alphabet,&nbsp;which&nbsp;has&nbsp;strange&nbsp;rules&nbsp;about&nbsp;case</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;conversion.&nbsp;&nbsp;So&nbsp;we&nbsp;need&nbsp;to&nbsp;make&nbsp;one&nbsp;last&nbsp;check&nbsp;before</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;exiting.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Character</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>toLowerCase</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>u1</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Character</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>toLowerCase</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>u2</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>continue</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>false</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>true</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<h3 id="6-">6.字符串连接</h3>
<p>将指定字符串联到此字符串的结尾，效果等价于"+".</p>
<p>实现思路:构建一个新数组,先将原来的数组复制进新数组里面,再将需要连接的字符串复制进新数组里面(存放到后面).</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>concat</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;str</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>1.&nbsp;首先获取传入字符串长度&nbsp;&nbsp;咦,居然没有对入参合法性进行判断?万一是null呢</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>otherLen</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>str</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>2.&nbsp;如果传入字符串长度为0,就没必要往后面走了</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>otherLen&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>3.&nbsp;记录当前数组长度</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>len</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>4.&nbsp;搞一个新数组(空间大小为len&nbsp;+&nbsp;otherLen),前面len个空间用来存放value数组</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>buf</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Arrays</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>copyOf</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;len&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;otherLen</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>5.&nbsp;将str存入buf数组的后面otherLen个空间里面</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>str</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>getChars</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>buf</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>6.&nbsp;new一个String将新建的buf数组传入</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>buf</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>true</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>将des数组复制进value数组中,dstBegin:目的数组放置的起始位置</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>getChars</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;dst</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;dstBegin</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>System</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>arraycopy</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;dst</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;dstBegin</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>这里的share参数貌似总是为true&nbsp;&nbsp;&nbsp;所以是暂时没用咯??</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--array syntax--java"><span>char</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>boolean</span></span><span>&nbsp;share</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;assert&nbsp;share&nbsp;:&nbsp;"unshared&nbsp;not&nbsp;supported";</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;value</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div></pre>
<h3 id="7-">7.字符串中单个字符查找</h3>
<ul>
<li><strong>indexOf(int ch/String str)</strong> </li>
</ul>
<p>返回指定字符在此字符串中第一次出现处的索引,在该对象表示的字符序列中第一次出现该字符的索引，如果未出现该字符，则返回 -1。</p>
<p>其实该方法最后是调用的<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">indexOf(ch/str, 0);</code> 该方法放到下面进行分析.</p>
<ul>
<li><strong>indexOf(int ch/String str, int fromIndex)</strong></li>
</ul>
<p>该方法与第一种类似，区别在于该方法从fromIndex位置向后查找.</p>
<p>先分析indexOf(int ch, int fromIndex),该方法是查找ch在fromIndex索引之后第一次出现的索引.主要就是逐个字符进行比较,相同则返回索引.如果未找到则返回-1.</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>indexOf</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;ch</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;fromIndex</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>final</span></span><span>&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>max</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>1.&nbsp;边界</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>fromIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fromIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>else</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>fromIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;=</span></span><span>&nbsp;max</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;Note:&nbsp;fromIndex&nbsp;might&nbsp;be&nbsp;near&nbsp;-1&gt;&gt;&gt;1.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>1</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>2.&nbsp;是否是罕见字符</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>ch&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Character</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>MIN_SUPPLEMENTARY_CODE_POINT</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;handle&nbsp;most&nbsp;cases&nbsp;here&nbsp;(ch&nbsp;is&nbsp;a&nbsp;BMP&nbsp;code&nbsp;point&nbsp;or&nbsp;a</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;negative&nbsp;value&nbsp;(invalid&nbsp;code&nbsp;point))</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>在这里其实已经处理了大多数情况</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>final</span></span><span>&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--array syntax--java"><span>char</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>value</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>3.&nbsp;从fromIndex开始,循环,找到第一个与ch相等的进行返回</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;fromIndex</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;max</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>i</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;ch</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;i</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>1</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>else</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>4.&nbsp;罕见字符处理</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>indexOfSupplementary</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>ch</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;fromIndex</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<p>再来分析indexOf(String str, int fromIndex),该方法功能是从指定的索引处开始，返回第一次出现的指定子字符串在此字符串中的索引.</p>
<p>大体思路:</p>
<ol>
<li>有点类似于字符串查找子串,先在当前字符串中找到与目标字符串的第一个字符相同的索引处</li>
<li>再从此索引出发循环遍历目标字符串后面的字符.</li>
<li>如果全部相同,则返回下标;如果不全部相同,则重复步骤1</li>
</ol>
<p>文字可能描述不清楚,上图片</p>
<p><img alt="" src="http://olg7c0d2n.bkt.clouddn.com/18-4-20/22473007.jpg"></p>
<p>我们要在beautifulauful中查找ful,那么步骤是首先找到f,再匹配后面的<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">ul</code>部分,找到则返回索引,未找到则继续查找.</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>indexOf</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;str</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;fromIndex</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>indexOf</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>str</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>str</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--object syntax--property syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;fromIndex</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>在source数组中查找target数组</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>static</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>indexOf</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--array syntax--java"><span>char</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;source</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;sourceOffset</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;sourceCount</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--array syntax--java"><span>char</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;target</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;targetOffset</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;targetCount</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;fromIndex</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>1.&nbsp;校验参数合法性</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>fromIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;=</span></span><span>&nbsp;sourceCount</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>targetCount&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--ternary syntax--java"><span>?</span></span><span>&nbsp;sourceCount&nbsp;</span><span class="syntax--keyword syntax--control syntax--ternary syntax--java"><span>:</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>1</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>fromIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fromIndex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>targetCount&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;fromIndex</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>2.&nbsp;记录第一个需要匹配的字符</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>first</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;target</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>targetOffset</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>3.&nbsp;这一次匹配的能到达的最大索引</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>max</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;sourceOffset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>sourceCount&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;targetCount</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>4.&nbsp;循环遍历后面的数组</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;sourceOffset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;fromIndex</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;=</span></span><span>&nbsp;max</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--block syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>/*</span></span><span>&nbsp;Look&nbsp;for&nbsp;first&nbsp;character.&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>*/</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>5.&nbsp;循环查找,直到查找到第一个和目标字符串第一个字符相同的索引</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>source</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>i</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>!=</span></span><span>&nbsp;first</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span>i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;=</span></span><span>&nbsp;max&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>&amp;&amp;</span></span><span>&nbsp;source</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>i</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>!=</span></span><span>&nbsp;first</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--block syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>/*</span></span><span>&nbsp;Found&nbsp;first&nbsp;character,&nbsp;now&nbsp;look&nbsp;at&nbsp;the&nbsp;rest&nbsp;of&nbsp;v2&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>*/</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>6.&nbsp;找到了第一个字符,再来看看目标字符串剩下的部分</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;=</span></span><span>&nbsp;max</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>j</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>1</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>end</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;j&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;targetCount&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>1</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>7.&nbsp;匹配一下目标字符串后面的字符串是否相等&nbsp;&nbsp;不相等的时候就跳出循环</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>k</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;targetOffset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>1</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;j&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>&amp;&amp;</span></span><span>&nbsp;source</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>j</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;target</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>k</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;j</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;k</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>8.&nbsp;如果全部相等,则返回索引</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>j&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--block syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>/*</span></span><span>&nbsp;Found&nbsp;whole&nbsp;string.&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>*/</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;sourceOffset</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>1</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div></pre>
<ul>
<li><strong>lastIndexOf(int ch/String str)</strong></li>
</ul>
<p>该方法与第一种类似，区别在于该方法从字符串的末尾位置向前查找.</p>
<ul>
<li><strong>lastIndexOf(int ch/String str, int fromIndex)</strong></li>
</ul>
<p>该方法与第二种方法类似，区别于该方法从fromIndex位置向前查找.</p>
<h3 id="8-">8.字符串中字符的大小写转换</h3>
<p>public String toLowerCase()//返回将当前字符串中所有字符转换成小写后的新串
2)public String toUpperCase()//返回将当前字符串中所有字符转换成大写后的新串</p>
<h3 id="9-">9.字符串中字符的替换</h3>
<p>1)public String replace(char oldChar, char newChar)//用字符newChar替换当前字符串中所有的oldChar字符，并返回一个新的字符串.
2)public String replaceFirst(String regex, String replacement)//该方法用字符replacement的内容替换当前字符串中遇到的第一个和字符串regex相匹配的子串，应将新的字符串返回.
3)public String replaceAll(String regex, String replacement)//该方法用字符replacement的内容替换当前字符串中遇到的所有和字符串regex相匹配的子串，应将新的字符串返回.</p>
<h3 id="10-">10.其他类方法</h3>
<p>1)String trim()//截去字符串两端的空格，但对于中间的空格不处理
2)boolean statWith(String prefix)或boolean endWith(String suffix)//用来比较当前字符串的起始字符或子字符串prefix和终止字符或子字符串suffix是否和当前字符串相同，重载方法中同时还可以指定比较的开始位置offset.
3)regionMatches(boolean b, int firstStart, String other, int otherStart, int length)//从当前字符串的firstStart位置开始比较，取长度为length的一个子字符串，other字符串从otherStart位置开始，指定另外一个长度为length的字符串，两字符串比较，当b为true时字符串不区分大小写.
4)contains(String str)//判断参数s是否被包含在字符串中，并返回一个布尔类型的值.
5)String[] split(String str)//将str作为分隔符进行字符串分解，分解后的字字符串在字符串数组中返回.</p>
<h3 id="11-">11.字符串与基本类型的转换</h3>
<p>1、字符串转换为基本类型
java.lang包中有Byte、Short、Integer、Float、Double类的调用方法：
1)public static byte parseByte(String s)
2)public static short parseShort(String s)
3)public static short parseInt(String s)
4)public static long parseLong(String s)
5)public static float parseFloat(String s)
6)public static double parseDouble(String s)</p>
<p>2、基本类型转换为字符串类型
String类中提供了String valueOf()放法，用作基本类型转换为字符串类型.
1)static String valueOf(char data[])
2)static String valueOf(char data[], int offset, int count)
3)static String valueOf(boolean b)
4)static String valueOf(char c)
5)static String valueOf(int i)
6)static String valueOf(long l)
7)static String valueOf(float f)
8)static String valueOf(double d)</p>
<p>3、进制转换
使用Long类中的方法得到整数之间的各种进制转换的方法：
Long.toBinaryString(long l)
Long.toOctalString(long l)
Long.toHexString(long l)
Long.toString(long l, int p)//p作为任意进制</p>
<p><strong>注意:Android 6.0（23） 源码中，String类的实现被替换了，具体调用的时候，会调用一个StringFactory来生成一个String.</strong>
来看下Android源码中String,,我擦,,这.....直接抛错误<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">UnsupportedOperationException</code>,可能是因为oracle告Google的原因吧..</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>UnsupportedOperationException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>Use&nbsp;StringFactory&nbsp;instead.</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;original</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>UnsupportedOperationException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>Use&nbsp;StringFactory&nbsp;instead.</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<p>我们平时开发APP时都是使用的java.lang包下面的String,上面的问题一般不会遇到,但是作为Android开发者还是要了解一下.</p>
<h2 id="-abstractstringbuilder-">三.AbstractStringBuilder源码分析</h2>
<p>先看看类的继承结构</p>
<p><img alt="" src="http://olg7c0d2n.bkt.clouddn.com/18-4-17/57996290.jpg"></p>
<blockquote>
<p>可以看到StringBuffer和StringBuilder都是继承了AbstractStringBuilder.所以这里先分析一下AbstractStringBuilder.</p>
</blockquote>
<p>在这基类里面真实的保存了StringBuffer和StringBuilder操作的实际数据内容,数据内容其实是一个<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">char[] value;</code>数组,在其构造方法中其实就是初始化该字符数组.</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--array syntax--java"><span>char</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span><span>]</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>value</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>AbstractStringBuilder</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>AbstractStringBuilder</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;capacity</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--array syntax--java"><span>char</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>capacity</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<h3 id="1-">1.扩容</h3>
<p>既然数据内容(上面的value数组)是在AbstractStringBuilder里面的,那么很多操作我觉得应该也是在父类里面,比如扩容,下面我们看看源码</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>ensureCapacity</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;minimumCapacity</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>minimumCapacity&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>ensureCapacityInternal</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>minimumCapacity</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>/**</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span>*&nbsp;确保value字符数组不会越界.重新new一个数组,引用指向value</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>*/</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>private</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>ensureCapacityInternal</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;minimumCapacity</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;overflow-conscious&nbsp;code</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>minimumCapacity&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Arrays</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>copyOf</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--method-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>newCapacity</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>minimumCapacity</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>/**</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span>*&nbsp;扩容:之前的大小的2倍+2</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>*/</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>private</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>newCapacity</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;minCapacity</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;overflow-conscious&nbsp;code&nbsp;&nbsp;&nbsp;扩大2倍+2</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>小知识点:这里可能会溢出,溢出后是负数哈,注意</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>newCapacity</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>value</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>length</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--java"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>1</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>2</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>newCapacity&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;minCapacity&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newCapacity&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;minCapacity</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>MAX_ARRAY_SIZE的值是Integer.MAX_VALUE&nbsp;-&nbsp;8,先判断一下预期容量(newCapacity)是否在0&lt;x&lt;MAX_ARRAY_SIZE之间,在这区间内就直接将数值返回,不在这区间就去判断一下是否溢出</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>newCapacity&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;MAX_ARRAY_SIZE&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;newCapacity&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--ternary syntax--java"><span>?</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>hugeCapacity</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>minCapacity</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--ternary syntax--java"><span>:</span></span><span>&nbsp;newCapacity</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>/**</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span>*&nbsp;判断大小&nbsp;&nbsp;是否溢出</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>*/</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>private</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>hugeCapacity</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;minCapacity</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>Integer</span></span><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--java"><span>MAX_VALUE</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;minCapacity&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>&nbsp;overflow</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>OutOfMemoryError</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>minCapacity&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;MAX_ARRAY_SIZE</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--ternary syntax--java"><span>?</span></span><span>&nbsp;minCapacity&nbsp;</span><span class="syntax--keyword syntax--control syntax--ternary syntax--java"><span>:</span></span><span>&nbsp;MAX_ARRAY_SIZE</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<p>可以看到这里的扩容方式是 = 以前的大小*2+2,其他的细节方法中已给出详细注释.</p>
<h3 id="2-">2.追加</h3>
<p>举一个比较有代表性的添加,详细注释在代码中</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>/**</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span>*&nbsp;追加:从指定字符串的片段</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--block syntax--javadoc syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>*/</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>AbstractStringBuilder</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>append</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--java"><span>CharSequence</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>1.&nbsp;如果是空,则添加字符串"null"</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>s&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>null</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>null</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>2.&nbsp;判断是否越界</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>s</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>IndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>start&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>,&nbsp;end&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>,&nbsp;s.length()&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>s</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>3.&nbsp;记录添加字符串长度</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>len</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;start</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>4.&nbsp;判断一下&nbsp;当前数组长度+需要添加的字符串长度&nbsp;是否够装,不够装就扩容(扩容时还有复制原内容到新数组中)</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>ensureCapacityInternal</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>5.&nbsp;追加内容到value数组最后</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>i</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;j&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;count</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;j</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>j</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>s</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>charAt</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>i</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>6.&nbsp;更新数组长度</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--arithmetic syntax--java"><span>+=</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<h3 id="3-">3.增加</h3>
<p>这里的大体思想是和以前大一的时候用C语言在数组中插入数据是一样的.</p>
<p>这里假设需要插入的字符串s,插入在目标字符串desOffset处,插入的长度是len.首先将需要插入处的desOffset~desOffset+len往后挪,挪到desOffset+len处,然后在desOffset处插入目标字符串.</p>
<p>大体思想就是这样,是不是觉得很熟悉?? <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">ヽ(￣▽￣)ﾉ</code></p>
<p>下面这个方法是上面思路的具体实现,详细的逻辑分析已经放到代码注释中.</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>插入字符串,从dstOffset索引处开始插入,插入内容为s中的[start,end]字符串</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>AbstractStringBuilder</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>insert</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;dstOffset</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>CharSequence</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>1.&nbsp;空处理</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>s&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--java"><span>null</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>null</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>2.&nbsp;越界判断</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span><span>(</span></span><span>dstOffset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>dstOffset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>IndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>dstOffset&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>dstOffset</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>3.&nbsp;入参检测是否合法</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>s</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>IndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>start&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>,&nbsp;end&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>,&nbsp;s.length()&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--function-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>s</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>4.&nbsp;长度记录</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>len</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;start</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>5.&nbsp;判断一下&nbsp;当前数组长度+需要添加的字符串长度&nbsp;是否够装,不够装就扩容(扩容时还有复制原内容到新数组中)</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>ensureCapacityInternal</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>6.&nbsp;将原数组中dstOffset开始的count&nbsp;-&nbsp;dstOffset个字符复制到dstOffset&nbsp;+&nbsp;len处,,,,这里其实就是腾出一个len长度的区间,用用户存放目标字符串,这个区间就是dstOffset到dstOffset&nbsp;+&nbsp;len</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>System</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>arraycopy</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;dstOffset</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;dstOffset&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--method-call syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;dstOffset</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>7.&nbsp;存放目标字符串</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>i</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>start</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>end</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span><span>&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>dstOffset</span><span class="syntax--keyword syntax--operator syntax--increment-decrement syntax--java"><span>++</span></span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>s</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>charAt</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>i</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>8.&nbsp;记录字符串长度</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--arithmetic syntax--java"><span>+=</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>9.&nbsp;返回自身引用&nbsp;&nbsp;方便链式调用</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<h3 id="4-">4.删除</h3>
<p>源码里面的删除操作实际上是复制,比如下面这个方法删除start到end之间的字符,实际是将以end开始的字符复制到start处,<strong>并且将数组的长度记录count减去len个</strong></p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>删除从start到end索引区间(&nbsp;[start,end)前闭后开区间&nbsp;)内内容</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>AbstractStringBuilder</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>delete</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>len</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;start</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>当start==end时不会改变</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>len&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>将value数组的start+len位置开始的count-end个字符复制到value数组的start位置处.&nbsp;&nbsp;注意,并且将数组count减去len个.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>System</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>arraycopy</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;start</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>len</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;count</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>end</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--arithmetic syntax--java"><span>-=</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<h3 id="5-">5.切割</h3>
<p>我擦,,,,原来StringBuffer的切割效率并不高嘛,其实就是new了一个String....</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>substring</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>end</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>String</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<h3 id="6-">6.改</h3>
<p>改其实就是对其替换,而在源码中替换最终的实现其实是复制(还是复制..<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">(￣▽￣)~*</code>).</p>
<p>大体思路: 假设需要将字符串str替换value数组中的start-end中,这时只需将end后面的字符往后移动,在中间腾出一个坑,用于存放需要替换的str字符串.最后将str放到value数组中start索引处.</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>AbstractStringBuilder</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>replace</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--java"><span>String</span></span><span>&nbsp;str</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>1.&nbsp;入参检测合法性</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>start&nbsp;&gt;&nbsp;length()</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--java"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--java"><span>"</span></span><span>start&nbsp;&gt;&nbsp;end</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--java"><span>"</span></span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>2.&nbsp;目标String长度</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>len</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>str</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>length</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>3.&nbsp;计算新的数组的长度</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--variable syntax--java"><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--definition syntax--java"><span>newCount</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;len&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>end&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>4.&nbsp;判断一下是否需要扩容</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>ensureCapacityInternal</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>newCount</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>5.&nbsp;将value数组的end位置开始的count&nbsp;-&nbsp;end个字符复制到value数组的start+len处.&nbsp;相当于把end之后的字符移到最后去,然后中间留个坑,用来存放str(需要替换成的值)</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>System</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>arraycopy</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;start&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>+</span></span><span>&nbsp;len</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--arithmetic syntax--java"><span>-</span></span><span>&nbsp;end</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>6.&nbsp;这是String的一个方法,用于将str复制到value中start处&nbsp;&nbsp;其最底层实现是native方法(getCharsNoCheck()&nbsp;)</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--java"><span>str</span></span><span class="syntax--meta syntax--method-call syntax--java"><span class="syntax--punctuation syntax--separator syntax--period syntax--java"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--java"><span>getChars</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;start</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--java"><span class="syntax--punctuation syntax--definition syntax--comment syntax--java"><span>//</span></span><span>7.&nbsp;更新count</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--java"><span>=</span></span><span>&nbsp;newCount</span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--java"><span>this</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<h3 id="7-">7.查询</h3>
<p>查询是最简单的,就是返回数组中相应索引处的值.</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>char</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>charAt</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;index</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span><span>(</span></span><span>index&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>0</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--java"><span>||</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>index&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--java"><span>&gt;=</span></span><span>&nbsp;count</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span><span>)</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--throw syntax--java"><span>throw</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--new syntax--java"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringIndexOutOfBoundsException</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span>index</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--java"><span>return</span></span><span>&nbsp;value</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>[</span></span><span>index</span><span class="syntax--punctuation syntax--bracket syntax--square syntax--java"><span>]</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<h2 id="-stringbuffer-">四.StringBuffer源码分析</h2>
<p>定义</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>final</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class syntax--identifier syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--java"><span>StringBuffer</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--class syntax--inherited syntax--classes syntax--java"><span class="syntax--storage syntax--modifier syntax--extends syntax--java"><span>extends</span></span><span>&nbsp;</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>AbstractStringBuilder</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--definition syntax--class syntax--inherited syntax--classes syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--meta syntax--definition syntax--class syntax--implemented syntax--interfaces syntax--java"><span class="syntax--storage syntax--modifier syntax--implements syntax--java"><span>implements</span></span><span>&nbsp;</span><span>java.io.</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>Serializable</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>CharSequence</span></span></span></span></span></div></pre>
<p>StringBuffer和StringBuilder都是相同的继承结构.都是继承了AbstractStringBuilder.</p>
<p>StringBuffer和StringBuilder构造方法,可以看到默认大小是16,</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringBuffer</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--language syntax--java"><span>super</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--decimal syntax--java"><span>16</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--java"><span class="syntax--entity syntax--name syntax--function syntax--java"><span>StringBuffer</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--java"><span>(</span></span><span class="syntax--storage syntax--type syntax--primitive syntax--java"><span>int</span></span><span>&nbsp;capacity</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--java"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--java"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--language syntax--java"><span>super</span></span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>(</span></span><span>capacity</span><span class="syntax--punctuation syntax--bracket syntax--round syntax--java"><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--java"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--java"><span>}</span></span></span></div></pre>
<p>我们先来看看StringBuffer的append方法</p>
<h2 id="-stringbuilder-">五.StringBuilder分析</h2>
<p>定义</p>
<pre class="editor-colors lang-java"><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>public</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--java"><span>final</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class syntax--identifier syntax--java"><span class="syntax--storage syntax--modifier syntax--java"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--class syntax--java"><span>StringBuilder</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--definition syntax--class syntax--inherited syntax--classes syntax--java"><span class="syntax--storage syntax--modifier syntax--extends syntax--java"><span>extends</span></span><span>&nbsp;</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>AbstractStringBuilder</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--java"><span class="syntax--meta syntax--class syntax--java"><span class="syntax--meta syntax--definition syntax--class syntax--inherited syntax--classes syntax--java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--meta syntax--definition syntax--class syntax--implemented syntax--interfaces syntax--java"><span class="syntax--storage syntax--modifier syntax--implements syntax--java"><span>implements</span></span><span>&nbsp;</span><span>java.io.</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>Serializable</span></span><span class="syntax--punctuation syntax--separator syntax--delimiter syntax--java"><span>,</span></span><span>&nbsp;</span><span class="syntax--entity syntax--other syntax--inherited-class syntax--java"><span>CharSequence</span></span></span></span></span></div></pre></body>
</html>
