# DHCP与PXE：IP是怎么来的，又是怎么没的

## 如何配置 IP 地址

使用 net-tools：
```
sudo ifconfig eth1 10.0.0.1/24
sudo ifconfig eth1 up
```
使用iproute2:
```
sudo ip addr add 10.0.0.1/24 dev eth1
sudo if link set up eth1
```

## 动态主机配置协议（DHCP）

通过这玩意儿去自动配置IP.有了这个协议，网络管理员就轻松多了。他只需要配置一段共享的 IP 地址。每一台新接入的机器都通过 DHCP 协议，来这个共享的 IP 地址里申请，然后自动配置好就可以了。等人走了，或者用完了，还回去，这样其他的机器也能用。

所以说，如果是数据中心里面的服务器，IP 一旦配置好，基本不会变，这就相当于买房自己装修。DHCP 的方式就相当于租房。你不用装修，都是帮你配置好的。你暂时用一下，用完退租就可以了。

## 解析 DHCP 的工作方式

当一台机器新加入一个网络的时候，肯定一脸懵，啥情况都不知道，只知道自己的 MAC 地址。怎么办？先吼一句，我来啦，有人吗？这时候的沟通基本靠“吼”。这一步，我们称为DHCP Discover。
